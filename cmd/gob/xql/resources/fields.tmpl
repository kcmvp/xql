// Code generated by gob xql schema. DO NOT EDIT.
// Generated at: {{ .GeneratedAt.Format "2006-01-02 15:04:05" }} (ver: {{ .Version }})

package {{ .PackageName }}

import (
    . "{{ .EntityImportPath }}"
    "{{ .ModulePath }}"
{{- range .Imports }}
    "{{ . }}"
{{- end }}
)

// {{ .StructName }}Fields provides access to the entity's field definitions.
var (
{{- range .Fields }}
    {{ .GoName }} = {{ $.ModulePkgName }}.NewField[{{ $.StructName }}, {{ .GoType }}]("{{ .Name }}", "{{ .GoName }}"{{ .ValidatorArgs }})
{{- end }}
)

// All returns all field definitions for {{ .StructName }} in a stable order.
func All() []{{ .ModulePkgName }}.Field {
    return []{{ .ModulePkgName }}.Field{
{{- range .Fields }}
        {{ .GoName }},
{{- end }}
    }
}

// AllExclude returns all field definitions for {{ .StructName }} except the provided ones.
//
// Example:
//  fields := AllExclude(UpdatedAt, UpdatedBy)
func AllExclude(exclude ...{{ .ModulePkgName }}.Field) []{{ .ModulePkgName }}.Field {
    if len(exclude) == 0 {
        return All()
    }

    excluded := make(map[string]struct{}, len(exclude))
    for _, f := range exclude {
        excluded[f.QualifiedName()] = struct{}{}
    }

    all := All()
    out := make([]{{ .ModulePkgName }}.Field, 0, len(all))
    for _, f := range all {
        if _, ok := excluded[f.QualifiedName()]; ok {
            continue
        }
        out = append(out, f)
    }
    return out
}
